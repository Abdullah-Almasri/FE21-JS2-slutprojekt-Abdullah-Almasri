var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequirefb1a;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},e.parcelRequirefb1a=n);var o=n("7WTbd"),i=n("dNF4M"),d=n("ewOWp");class r{constructor(e,t,s){this.id=e,this.userName=t,this.message=s,this.displayMsg()}displayMsg(){const e=document.getElementById("messagesShows"),t=document.createElement("div");e.append(t),t.classList.add(this.id,"chat-styling");const s=document.createElement("p");s.classList.add("posted-msg"),s.innerText=`${this.userName} posted: ${this.message}`,t.append(s);const n=document.createElement("button");n.classList.add("remove-post"),n.innerText="X",this.userName==sessionStorage.getItem("user")&&t.append(n),n.addEventListener("click",(()=>{if(sessionStorage.getItem("user")==sessionStorage.getItem("user")){const e=(0,o.ref)(i.db,"/Topics/Shows/"+this.id);(0,o.remove)(e)}}))}clearDOM(){document.querySelector(`.${this.id}`).remove()}}const l=(0,o.ref)(i.db,"/Topics/Shows/");let a=[];(0,o.onValue)(l,(e=>{const t=e.val();for(const e of a)e.clearDOM();a=[];for(const e in t)a.push(new r(e,t[e].name,t[e].message));!function(){const e=document.getElementById("messagesShows");e.scrollTop=e.scrollHeight}(),t&&function(){const e=Object.values(t),s=Object.keys(t)[0];for(let t=0;t<e.length;t++)if(e.length>25){const e=(0,o.ref)(i.db,"/Topics/Shows/"+s);(0,o.remove)(e)}}()})),null==sessionStorage.getItem("user")?document.getElementById("send").style.visibility="hidden":(document.getElementById("send").style.visibility="visible",document.getElementById("send").addEventListener("click",(e=>{e.preventDefault();const t=document.getElementById("userMessage"),s={name:sessionStorage.getItem("user"),message:t.value},n={};n[(0,o.push)(l).key]=s,(0,o.update)(l,n)}))),(0,d.logOut)();
//# sourceMappingURL=forumShows.f0ffc0be.js.map
